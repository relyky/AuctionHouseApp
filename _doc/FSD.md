# **慈善募款活動系統功能規格書 (FSD) - 更新版**

## **系統概述**

本系統為慈善募款活動平台，支援六種主要活動類型：

1. Raffle Ticket (彩券抽獎)  
2. Gift to Win (福袋抽獎)  
3. Live Auction (現場拍賣)  
4. Silent Auction (靜態拍賣)  
5. Open Ask (募款活動)
6. Donation (捐款功能) - **新增**

活動預計 11 月舉行，票券銷售於 9 月 21 日開始。

## **系統架構**

* **前台**：賓客手機端，以 Web App 形式提供，無需安裝。
* **後台**：工作人員管理系統，Web-based 後台介面。
* **大螢幕**：現場投影顯示系統，由後台控制畫面同步，解析度調整為 1024x768。

## **大螢幕功能**

### **活動切換控制**

* 支援在六種活動間流暢切換，由後台的儀表板操作。  
* 即時顯示當前活動狀態，如：抽獎中、拍賣進行中、結標倒數。  
* 由後台控制切換時機，確保現場流程與螢幕同步。

### **Raffle Ticket 顯示** - **已修改**

* **大獎抽獎畫面**：針對重要獎項提供個別抽獎動畫效果，以動態轉盤、數字跳動營造緊張感。  
* **小獎批次處理**：小獎項目採批次抽取方式，直接顯示中獎清單，無個別抽獎動畫。  
* **最終得獎名單**：所有抽獎結束後，顯示完整的得獎者清單供現場確認。  
* **支援動態獎項數量的抽獎流程**：後台可設定多個獎項並依序抽出。

### **Gift to Win 顯示**

* **顯示福袋抽獎進行畫面**：以動畫顯示福袋票券被抽出的過程。  
* **各福袋獎項資訊**：顯示福袋的圖片、獎項說明與價值。  
* **公布各福袋中獎者**：公布得獎賓客的姓名。

### **Live Auction 顯示** - **已修改**

* **顯示當前拍賣商品**：以高解析度圖片輪播或影片方式展示商品。  
* **顯示起標價與目前最高價**：價格即時更新，字體放大且醒目。  
* **顯示得標者資訊**：結標後僅顯示得標者 Paroll Num 及得標價。  
* **結標時煙火特效**：以華麗的煙火動畫慶祝拍賣成功。

### **Silent Auction 顯示** - **已修改**

* **顯示靜態拍賣商品清單**：以格狀或列表方式呈現所有商品，包含縮圖、名稱、編號。  
* **商品輪播機制**：每10秒自動切換顯示商品，確保所有商品都有曝光機會。  
* **顯示競標截止倒數**：每個商品下方顯示獨立的倒數計時器。  
* **隱藏最高出價者與得標結果**：不在大螢幕顯示出價者或最終得標者資訊，維持競標隱私。

### **Open Ask 顯示** - **已修改**

* **簡化顯示介面**：
  * **左側區域**：顯示當前 Round 的募款總金額，大字體顯示。
  * **右側區域**：捐贈者 Paroll Num 向上飛行的動畫效果。
* **多階段募款機制**：每個階段（Round）都從零開始計算，不累積前一階段金額。
* **移除目標金額顯示**：不再顯示募款目標，由主持人口頭說明。
* **即時更新募款金額**：每當有捐款紀錄輸入時，金額會即時跳動更新。
* **每次捐款顯示**：短暫顯示捐贈者 Paroll Num 與此次捐款金額。

## **前台功能**

### **賓客登入**

* **掃描 QR Code 進入系統**：每個 QR Code 內嵌一個唯一的 ID，用於識別活動或賓客。  
* **輸入姓名或 Email 即可登入（無密碼驗證）**：  
  * **流程**：賓客輸入姓名或 Email，系統於資料庫比對。  
  * **同名處理**：如有多筆資料符合，會跳出一個視窗，要求賓客輸入另一項資訊（如 Email 或姓名）進行二次驗證。  
* **支援 70 歲以上長者易用性考量**：介面字體大、按鈕明顯、流程簡單。  
* **登入後保持狀態**：利用 Session 或 Token 保持登入狀態，無需重複登入。

### **活動選單** - **新增**

* **登入後顯示活動選單**：整合所有活動類型的入口，讓賓客可以選擇參與的活動。
* **活動狀態顯示**：標示各活動的開放狀態（進行中/即將開始/已結束）。
* **快速導航**：提供清晰的圖示和說明，方便賓客理解各活動內容。

### **Live Auction 瀏覽** - **新增**

* **商品預覽功能**：顯示即將拍賣的商品說明和高解析度圖片。
* **商品詳細資訊**：包含起標價、商品描述、預估價值等資訊。

### **Raffle Ticket 功能** - **已修改**

* **獎品清單展示**：預先顯示所有獎品的圖片、名稱和說明。
* **個人票券檢視**：
  * 隱藏票號顯示，僅在票券明細頁顯示得獎票券。
  * 中獎票券以特殊顏色或標記區分。
  * 明確標示中獎項目名稱和獎品內容。
* **即時中獎通知**：當抽獎結果公布時，中獎者會收到即時通知。

### **Gift to Win 功能** - **已修改**

* **福袋獎品清單**：顯示各種福袋的內容、圖片和價值說明。
* **購買紀錄**：顯示已購買的福袋類型和數量（不顯示票號）。

### **Silent Auction 競標活動參與** - **已修改**

* **商品清單瀏覽**：提供完整商品列表，可直接瀏覽所有參與競標的商品。
* **商品詳細頁面**：點擊商品後進入專屬競標頁面。
* **競標介面優化**：
  * **最高出價者顯示**：使用 Paroll Num 識別當前最高出價者。
  * **智慧出價系統**：
    - 系統驗證出價必須高於現價 + 最低加價金額
    - 提示最低加價要求金額
    - 提供下拉選單（一次顯示四個建議價格）
    - 支援手動輸入自訂金額
* **透過掃描商品旁 QR Code 進行競標**：QR Code 連結至該商品的獨立競標頁面。
* **即時出價與競標狀態檢視**：出價後立即顯示新的最高價，並更新出價狀態。

### **Silent Auction 出價通知系統**

* **小鈴鐺通知功能**：在頁面右上角以圖示方式顯示新通知數量。  
* **推播通知**：當 Silent Auction 出價被超越時，系統會發送推播訊息。  
* **點擊通知可直接進入該商品頁面重新出價**：提升操作效率。  
* **通知清單管理**：可點擊查看所有歷史通知，並標記為已讀。

### **Donation 功能** - **新增**

* **自訂捐款金額**：賓客可手動輸入任意捐款金額。
* **後台時間控制**：後台可控制 Donation 功能的開放時間，在活動結束前適時開啟。
* **捐款確認**：顯示捐款金額確認頁面，避免誤操作。
* **即時回饋**：捐款完成後顯示感謝訊息和捐款收據編號。

### **消費明細檢視** - **已修改**

* **付款狀態管理**：
  * 清楚標示每項消費的付款狀態（unPaid/Paid）
  * 支援分段付款功能，後台可管理部分付款記錄
* **各活動明細**：  
  * Raffle Ticket：購買數量，僅顯示中獎票券
  * Gift to Win：購買類型、數量，僅顯示中獎結果
  * Live Auction：得標商品名稱、金額與結標時間  
  * Silent Auction：得標商品名稱、金額與結標時間  
  * Open Ask：每次捐款金額與時間
  * Donation：每次捐款金額與時間 - **新增**
* **智慧結帳系統**：
  * 顯示總計待付金額
  * 確認付款後彈出收據資訊填寫視窗
  * 全額付清後自動發送感謝函（Thank You Letter）
  * 提供電子收據下載功能

## **後台功能**

### **帳號管理系統**

#### **Sales 維護頁**

* **欄位**：SalesID、SalesName、SalesEmail。  
* **SalesID** 為登入帳號，後台可管理其新增/編輯/刪除。  
* **Reset PWD 功能**：系統產生臨時密碼並以 Email 通知。  
* **Sales 人員權限管理**：可設定不同銷售人員的權限範圍。

#### **會計人員帳號**

* **會計登入功能**：獨立於 Sales 的登入介面。  
* **對帳權限管理**：只能查看財務相關報表，無法進行銷售操作。

### **入場券管理**

#### **入場券匯入**

* **匯入既有入場券購買者資料**：支援 CSV 或 Excel 檔案批次匯入。  
* **與現場購票系統整合**：後台可手動新增賓客資訊，並分配票號。

### **Raffle Ticket 管理**

* **單價可系統維護**：後台可設定並調整 Raffle Ticket 的單價。

#### **Raffle Ticket 購買畫面**

* **由 Sales 人員操作輸入**：專為銷售人員設計的簡化介面。  
* **輸入欄位**：姓名、Email。  
* **購買數量輸入**：可自由輸入數量。  
* **購買金額自動計算**：系統自動計算總價 (數量 x 2500)。  
* **自動產生票券號碼**：系統依規則自動產生不重複的票號。  
* **Email 確認通知寄送**：購買後系統自動寄送確認信給賓客。

#### **Raffle Ticket 購買清單畫面**

* **顯示所有 Sales 人員銷售記錄**：可按日期、SalesID、賓客姓名進行篩選。  
* **按 Sales 人員分類統計**：提供個人與總銷售量及金額報表。  
* **收款狀態追蹤**：標記每筆訂單的收款狀態（已付/未付）。

#### **獎項設定** - **已修改**

* **大獎/小獎分類設定**：可設定哪些獎項為大獎（需個別抽獎動畫），哪些為小獎（批次處理）
* **動態獎項數量設定**：後台可自由新增、編輯、刪除獎項。  
* **獎項名稱與內容維護**：包含獎項圖片、描述、數量。  
* **抽獎順序設定**：可拖曳排序抽獎順序。

### **Gift to Win 管理**

#### **福袋設定**

* **福袋類型設定**：可自定義福袋種類、內容與對應的單價。  
* **銷售數量統計**：即時顯示各類型福袋的銷售總數。

#### **福袋票券銷售**

* **現場銷售票券功能**：由 Sales 人員操作，即時產生票券。  
* **購買者資料記錄**：將購買資訊與賓客資料綁定。

### **Live Auction 管理** - **已修改**

#### **商品管理**

* **拍賣商品資料維護**：包含商品編號、名稱、圖片、起標價、底價與詳細描述。  
* **預展商品設定**：可設定6個主要商品於手機端預先展示。
* **競標記錄**：提供一個介面讓工作人員手動記錄舉牌競標。  
* **即時價格更新**：當工作人員輸入新價格後，大螢幕即時同步。  
* **得標者確認**：輸入得標者 Paroll Num 與得標價後，系統鎖定該商品。

### **Silent Auction 管理** - **已修改**

#### **商品設定**

* **藝術品資料維護**：後台可上傳商品圖片與詳細資訊。  
* **商品 QR Code 產生與列印功能**：系統自動產生每個商品的獨立 QR Code，供現場列印。  
* **起標價與加價設定**：設定每個商品的起標價格和最低加價金額。
* **大螢幕輪播設定**：可設定商品在大螢幕的顯示順序和時間間隔（預設10秒）。

#### **競標管理**

* **線上出價記錄**：後台可即時監控所有賓客的線上出價。  
* **競標狀態監控**：顯示每個商品的當前最高價與出價者 Paroll Num。  
* **結標時間控制**：後台可手動開始或結束競標。  
* **得標結果管理**：結標後自動生成得標者清單，但不在大螢幕公開顯示。

### **Open Ask 管理** - **已修改**

#### **募款設定**

* **Round 制募款管理**：可設定不同 Round 的募款活動，每個階段獨立統計金額，不累積前一階段。
* **階段切換功能**：後台可手動切換到下一個 Round，新階段金額從零開始。
* **各階段募款金額設定**：可設定預設的捐款金額按鈕（如 1000 元、2000 元）。
* **大螢幕顯示控制**：可選擇是否顯示目標金額（建議關閉，由主持人說明）。

#### **募款記錄**

* **工作人員手動記錄捐款**：針對現場現金或支票捐款。  
* **舉手捐款資料輸入**：工作人員介面可快速輸入捐款人 Paroll Num 與金額。  
* **即時募款進度更新**：輸入後，大螢幕募款金額即時更新，並顯示飛行動畫效果。  
* **捐款者記錄管理**：後台可管理每筆捐款紀錄。

### **Donation 管理** - **新增**

#### **功能控制**

* **開放時間設定**：後台可設定 Donation 功能的開放和關閉時間。
* **活動前控制**：可在活動結束前的任意時間點開啟此功能。

#### **捐款記錄**

* **線上捐款追蹤**：記錄所有透過手機端輸入的捐款。
* **金額驗證**：設定最低和最高捐款金額限制。
* **收據管理**：自動產生電子收據編號。

### **財務管理** - **已修改**

#### **Sales 對帳功能**

* **Sales 人員銷售總額統計**：顯示每個 Sales 的總銷售金額與筆數。  
* **分段付款管理**：
  * 支援部分付款記錄和追蹤
  * 顯示每筆交易的付款進度
  * 提供付款狀態批次更新功能
* **總帳收款與自動對帳功能**：  
  * 系統自動彙整所有線上及手動輸入的銷售金額。  
  * 對於現金收款，系統會提供總結算報表。  
* **應收帳款追蹤**：顯示所有待付費用的賓客清單。  
* **會計確認功能**：會計人員可確認對帳完成，並鎖定該筆記錄。  
* **先進先出 (FIFO) 收款處理**：後台報表會以銷售時間先後順序排列。

#### **總體財務報表**

* **各活動收入統計**：提供圖表顯示每種活動的收入貢獻，包含新增的 Donation。  
* **總收入報表**：顯示活動總收入、成本與淨收益。  
* **待收款項追蹤**：提供總覽，列出所有待收取的款項與對應的賓客。
* **感謝函發送追蹤**：記錄哪些賓客已收到 Thank You Letter。

### **系統控制**

#### **大螢幕控制台** - **已修改**

* **活動切換控制**：支援六種活動間的切換，包含切換頁面的預覽。  
* **即時畫面更新**：可選擇是否自動同步。  
* **抽獎控制**：
  * 大獎個別抽獎控制
  * 小獎批次抽獎控制
  * 最終得獎名單顯示控制
* **Silent Auction 輪播控制**：可調整商品輪播時間間隔。
* **Open Ask 顯示控制**：可控制 Round 切換和動畫效果觸發。

#### **資料同步管理**

* 三個平台間資料即時同步，採用 WebSocket 或類似技術。  
* 狀態更新機制，確保後台、前台與大螢幕資料一致。  
* 錯誤處理與復原，當資料同步失敗時，會發出警報並記錄錯誤日誌。

## **技術規格**

### **系統部署**

* 三個子系統：手機端 (SPA)、管理後台 (Web)、大螢幕端 (SPA)。  
* 共用 RESTful API 服務，作為所有資料交換的中樞。  
* 即時資料同步機制：採用 pub/sub 模型，如 Firebase Firestore 或 WebSocket 服務。

### **安全性**

* **Sales/會計人員登入驗證**：後台採用基於角色的存取控制 (RBAC)。  
* **資料傳輸加密**：所有 API 請求均使用 HTTPS/TLS 加密。
* **付款資訊保護**：敏感的付款和收據資訊採用額外加密保護。

### **使用者體驗** - **已修改**

* **中文介面**：所有介面均為繁體中文，未來可增加英文選項。  
* **長者友善設計**：大字體、高對比顏色、簡單的導航結構。  
* **即時通知系統**：使用 Web Push Notifications 或 WebSocket 確保即時性。  
* **響應式設計**：所有介面皆需適應不同裝置螢幕尺寸。
* **智慧出價輔助**：Silent Auction 提供出價建議和驗證，降低操作難度。
* **簡化結帳流程**：整合付款狀態管理和自動感謝函發送。

### **效能優化**

* **商品圖片最佳化**：自動壓縮和格式轉換，確保快速載入。
* **大螢幕動畫效能**：優化動畫效果，確保在投影設備上流暢運行。
* **資料快取機制**：對常用資料進行快取，提升系統響應速度。